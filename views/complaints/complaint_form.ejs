<h1 class="text-3xl font-bold text-gray-800 mb-6">File a New Complaint</h1>

<div class="bg-white p-8 card max-w-2xl mx-auto">
    <form action="/complaints" method="POST">
        <div class="mb-4">
            <label for="subject" class="block text-gray-700 font-medium mb-2">Subject</label>
            <input type="text" id="subject" name="subject" class="form-input"
                placeholder="e.g., Damaged Product, Late Delivery" required>
        </div>

        <div class="mb-4">
            <label for="description" class="block text-gray-700 font-medium mb-2">Description</label>
            <textarea id="description" name="description" rows="5" class="form-input"
                placeholder="Provide detailed information about your complaint..." required></textarea>
        </div>

        <div class="mb-4">
            <label for="orderId" class="block text-gray-700 font-medium mb-2">Related Order (Optional)</label>
            <select id="orderId" name="orderId" class="form-input">
                <option value="">-- Select an Order --</option>
                <% if (typeof orders !=='undefined' && orders.length> 0) { %>
                    <% orders.forEach(order=> { %>
                        <option value="<%= order._id %>">Order #<%= order._id %> (Total: $<%=
                                    order.totalAmount.toFixed(2) %>, Status: <%= order.status %>)</option>
                        <% }); %>
                            <% } %>
            </select>
            <p class="text-sm text-gray-500 mt-1">Select an order if your complaint is related to a specific purchase.
            </p>
        </div>

        <div class="mb-4">
            <label for="vendorId" class="block text-gray-700 font-medium mb-2">Related Vendor (Optional)</label>
            <select id="vendorId" name="vendorId" class="form-input">
                <option value="">-- Select a Vendor --</option>
                <% if (typeof vendors !=='undefined' && vendors.length> 0) { %>
                    <% vendors.forEach(vendor=> { %>
                        <option value="<%= vendor._id %>">
                            <%= vendor.name %>
                        </option>
                        <% }); %>
                            <% } %>
            </select>
            <p class="text-sm text-gray-500 mt-1">Select a vendor if your complaint is specifically about a vendor.</p>
        </div>

        <button type="submit" class="btn btn-primary w-full py-3 text-lg">Submit Complaint</button>
    </form>
</div>